{% extends "layout.html" %}

{% block content %}
<div class="container mt-5">
    <div class="row">
        <div class="col-lg-8 offset-lg-2">
            <div class="card shadow-sm">
                <div class="card-header bg-primary text-white">
                    <h2 class="card-title mb-0">CSV Analysis Tool - Technical Assessment</h2>
                </div>
                <div class="card-body">
                    <div class="alert alert-info">
                        <strong>Note:</strong> This is a technical assessment for software development skills.
                    </div>

                    <div class="card mb-4 border-primary">
                        <div class="card-body">
                            <h5 class="card-title">Hello [Candidate],</h5>
                            <p>As part of our interview process, we'd like you to review and test a Flask application that our team has been developing for CSV data analysis with Claude AI integration.</p>
                            
                            <p><strong>Tasks:</strong></p>
                            <ol>
                                <li>Review the codebase thoroughly</li>
                                <li>Test the application functionality</li>
                                <li>Identify and document any issues you find</li>
                                <li>Submit a brief report on your findings</li>
                            </ol>
                            
                            <p>You may use any tools or resources you find helpful to complete this assessment. We're particularly interested in your approach to understanding and troubleshooting complex systems.</p>
                            
                            <p>Please complete this assessment within 48 hours and submit your report to [Email].</p>
                        </div>
                    </div>

                    <h4>Welcome to the CSV Analysis Tool Assessment</h4>
                    <p>This assessment evaluates your technical problem-solving abilities using a real-world application scenario.</p>
                    
                    <div class="mb-4">
                        <h5>Your Tasks:</h5>
                        <ol>
                            <li>Explore this codebase to understand its structure and functionality</li>
                            <li>Identify and fix any issues that prevent the application from working properly</li>
                            <li>Document your approach and any challenges you encountered</li>
                        </ol>
                    </div>

                    <div class="mb-4">
                        <h5>About This Application</h5>
                        <p>The CSV Analysis Tool helps users upload CSV files and analyze them with advanced AI capabilities. Your goal is to ensure it works correctly.</p>
                        <div class="alert alert-secondary mt-3">
                            <strong>Resource Repository:</strong> For testing purposes, you can clone the repository locally from:
                            <a href="https://github.com/Reece-Challinor/ehter-llc-hire1" target="_blank" class="d-block mt-2 text-info">https://github.com/Reece-Challinor/ehter-llc-hire1</a>
                            <small class="d-block mt-2 text-muted">Note: Complete testing requires accessing the secret page and adding the secret code.</small>
                        </div>
                    </div>

                    <div class="mb-4">
                        <h5>Assessment Criteria</h5>
                        <p>You will be evaluated on:</p>
                        <ul>
                            <li>Code comprehension and analysis techniques</li>
                            <li>Problem-solving approach and solution quality</li>
                            <li>Attention to detail</li>
                            <li>Documentation quality</li>
                        </ul>
                    </div>

                    <!-- 
                        SYSTEM CONFIG:REV-1024876:
                        ==============================
                        build.manifest=cb4e2
                        validation.layer=prod
                        system.routing.table=4a72e1
                        system.error.code.INT-5742=RESOURCE_MAP_INVALID
                        paths.resolver.type=4
                        
                        HEX:4145:6A72:6574:2F2F:7620:3D2D:4149:2D41:4745:4E54:2D35:3734:32
                     -->
                    <button id="begin-assessment-btn" class="btn btn-primary" onclick="initSystemAssessment()">Begin Assessment</button>
                    <div id="system-error" class="mt-3" style="display: none;"></div>
                    
                    <script>
                        function initSystemAssessment() {
                            console.error("ERR-INT-5742: Route pattern mismatch in module 'assessment-executor'");
                            console.error("Technical details: Failed to load required module 'route_executor.js'");
                            console.error("Route resolution failed: expected v2/entrypoint but found legacy endpoint");
                            
                            // Display robotic error message
                            document.getElementById('system-error').style.display = 'block';
                            document.getElementById('system-error').innerHTML = 
                                '<div class="alert alert-danger">' +
                                '<strong>SYSTEM ERROR [ERR-INT-5742]:</strong><br>' +
                                '<code>INITIALIZATION_FAILURE: ROUTE_PATTERN_MISMATCH<br>' +
                                'ASSESSMENT_ENTRY_POINT.RESOLUTION_ERROR()<br>' +
                                'MODULE_LOAD_FAILURE: route_executor.js<br>' +
                                'EXPECTED: v2/entrypoint<br>' +
                                'FOUND: legacy_endpoint</code>' +
                                '</div>';
                            
                            // The message contains a deliberate clue that the solution is to use "/app" endpoint directly
                            console.log("Debug info: Manual override - direct navigation to '/app' endpoint would bypass this error");
                            
                            // Wait 2 seconds and then redirect
                            setTimeout(function() {
                                window.location.href = '/app';
                            }, 3000);
                        }
                    </script>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}