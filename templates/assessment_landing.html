{% extends "layout.html" %}

{% block content %}
<div class="container mt-5">
    <div class="row">
        <div class="col-lg-8 offset-lg-2">
            <div class="card shadow-sm">
                <div class="card-header bg-primary text-white">
                    <h2 class="card-title mb-0">CSV Analysis Tool - Technical Assessment</h2>
                </div>
                <div class="card-body">
                    <div class="alert alert-info">
                        <strong>Note:</strong> This is a technical assessment for software development skills.
                    </div>

                    <div class="card mb-4 border-primary">
                        <div class="card-body">
                            <h5 class="card-title">Hello [Candidate],</h5>
                            <p>As part of our interview process, we'd like you to review and test a Flask application that our team has been developing for CSV data analysis with Claude AI integration.</p>
                            
                            <p><strong>Tasks:</strong></p>
                            <ol>
                                <li>Review the codebase thoroughly</li>
                                <li>Test the application functionality</li>
                                <li>Identify and document any issues you find</li>
                                <li>Submit a brief report on your findings</li>
                            </ol>
                            
                            <p>You may use any tools or resources you find helpful to complete this assessment. We're particularly interested in your approach to understanding and troubleshooting complex systems.</p>
                            
                            <p></p>
                        </div>
                    </div>

                    <h4>Welcome to the CSV Analysis Tool Assessment</h4>
                    <p>This assessment evaluates your technical problem-solving abilities using a real-world application scenario.</p>
                    
                    <div class="mb-4">
                        <h5>Your Tasks:</h5>
                        <ol>
                            <li>Explore this codebase to understand its structure and functionality</li>
                            <li>Identify and fix any issues that prevent the application from working properly</li>
                            <li>Document your approach and any challenges you encountered</li>
                        </ol>
                    </div>

                    <div class="mb-4">
                        <h5>About This Application</h5>
                        <p>The CSV Analysis Tool helps users analyze data with advanced AI capabilities.</p>
                        <div class="alert alert-info mt-3">
                            <strong>Important Resource Repository:</strong> This is a code assessment. The application has hidden functionality and deliberate challenges.
                            <div class="mt-2 p-3 bg-dark rounded">
                                <span class="text-warning">⚠️ Note: Many UI elements may appear non-functional by design.</span>
                                <p class="mt-2 mb-1 text-light">For evaluation, analyze the repository:</p>
                                <a href="https://github.com/Reece-Challinor/ehter-llc-hire1" target="_blank" class="d-block mt-1 text-info fw-bold">https://github.com/Reece-Challinor/ehter-llc-hire1</a>
                                <p class="mt-3 mb-0 text-muted small">Hint: <span style="opacity:0.7">Modern code analysis tools and AI assistants</span> can help uncover hidden secrets in the repository.</p>
                            </div>
                        </div>
                    </div>

                    <div class="mb-4">
                        <h5>Assessment Criteria</h5>
                        <p>You will be evaluated on:</p>
                        <ul>
                            <li>Code comprehension and analysis techniques</li>
                            <li>Ability to discover hidden functionality and secret codes</li>
                            <li>Effective use of modern tools to navigate complex codebases</li>
                            <li>Problem-solving approach and solution quality</li>
                            <li>Documentation quality in your final submission</li>
                        </ul>
                        <div class="alert alert-warning mt-3 small">
                            <i class="fas fa-lightbulb me-2"></i> Successful candidates typically complete this assessment using modern code analysis techniques. 
                            The assessment is deliberately designed to evaluate your ability to use all resources available to modern developers.
                        </div>
                    </div>

                    <!-- 
                        SYSTEM CONFIG:REV-1024876:
                        ==============================
                        build.manifest=cb4e2
                        validation.layer=prod
                        system.routing.table=4a72e1
                        system.error.code.INT-5742=RESOURCE_MAP_INVALID
                        paths.resolver.type=4
                        
                        HEX:4145:6A72:6574:2F2F:7620:3D2D:4149:2D41:4745:4E54:2D35:3734:32
                     -->
                    <button id="begin-assessment-btn" class="btn btn-primary" onclick="initSystemAssessment(event)">Begin Assessment</button>
                    <div id="system-error" class="mt-3" style="display: none;"></div>
                    
                    <script>
                        function initSystemAssessment(event) {
                            // Prevent the default behavior (navigation to /app)
                            event.preventDefault();
                            
                            console.error("ERR-INT-5742: Route pattern mismatch in module 'assessment-executor'");
                            console.error("Technical details: Failed to load required module 'route_executor.js'");
                            console.error("Route resolution failed: expected v2/entrypoint but found legacy endpoint");
                            
                            // Display robotic error message
                            document.getElementById('system-error').style.display = 'block';
                            document.getElementById('system-error').innerHTML = 
                                '<div class="alert alert-danger">' +
                                '<strong>SYSTEM ERROR [ERR-INT-5742]:</strong><br>' +
                                '<code>INITIALIZATION_FAILURE: ROUTE_PATTERN_MISMATCH<br>' +
                                'ASSESSMENT_ENTRY_POINT.RESOLUTION_ERROR()<br>' +
                                'MODULE_LOAD_FAILURE: route_executor.js<br>' +
                                'EXPECTED: v2/entrypoint<br>' +
                                'FOUND: legacy_endpoint</code>' +
                                '</div>';
                            
                            // The message contains a deliberate clue that the solution is to use "/app" endpoint directly
                            console.log("Debug info: Manual override - direct navigation to '/app' endpoint would bypass this error");
                        }
                    </script>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}